<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'/>
    <title>Proof of Concept</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.39.1/mapbox-gl.js'></script>
	<link href='https://api.mapbox.com/mapbox-gl-js/v0.39.1/mapbox-gl.css' rel='stylesheet' />

</head>

<body>
	<div id='map'></div>
	<div id="swatches" class="button" style="left:50px;position:absolute;">style that shit</div>
	<div id="layerList"></div>
    <pre id="propertyList"></pre>
	<script type="text/javascript">
		// Nota Bene:
		// Please make sure to serve this file via a webserver as otherwise your browser might not load the external 'style.json' file
		mapboxgl.accessToken = 'pk.eyJ1IjoibXJ1YW5lIiwiYSI6ImNpZ3dnaGF1bjBzNGZ3N201bTQwN3h6YngifQ.pw1khldm3UDHd56okxc5bQ';

		

		var map = new mapboxgl.Map({
		  container: 'map',
		  center: [-75.14, 39.95],
		  zoom: 12,
		  style: 'pff_style.json',
		  hash: 'true',

		});

		// navigation control
		var nav = new mapboxgl.NavigationControl();
		map.addControl(nav, 'top-left');

		var swatches = document.getElementById('swatches');

		var swatch = document.createElement('button');
	    swatch.style.backgroundColor = "#efefef";
	    swatch.addEventListener('click', function() {
	        map.setPaintProperty('maj-inner', 'line-color', 
	        	{"property": 'typeno',
                    "type": 'categorical',
                	"stops": [
	                    ['21', '#fbb03b'],
	                    ['22', '#223b53'],
	                    ['32', '#e55e5e'],
	                    ['33', '#3bb2d0'],
	                    ['31', '#ccc']
	                ]
                });
	    });
	    swatches.appendChild(swatch);


	</script>
</body>
</html>